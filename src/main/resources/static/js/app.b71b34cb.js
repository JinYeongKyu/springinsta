(function(){"use strict";var a={2876:function(a,e,l){var t=l(5130),o=l(1387),r=(l(4114),l(4603),l(7566),l(8721),l(6768)),s=l(144);const n=a=>((0,r.Qi)("data-v-d427029a"),a=a(),(0,r.jt)(),a),i={class:"login-container"},u={class:"login-box"},c=n((()=>(0,r.Lk)("h1",{class:"logo"},"Instagram",-1))),d={class:"form-group"},v={class:"form-group"},p=n((()=>(0,r.Lk)("button",{type:"submit",class:"login-button"},"로그인",-1))),f=n((()=>(0,r.Lk)("div",{class:"or-divider"},[(0,r.Lk)("span"),(0,r.Lk)("span",{class:"or-text"},"또는"),(0,r.Lk)("span")],-1))),m=n((()=>(0,r.Lk)("div",{class:"forgot-password"},[(0,r.Lk)("a",{href:"#"},"비밀번호를 잊으셨나요?")],-1))),k={class:"signup-box"};var h={__name:"LoginPage",setup(a){const e=(0,s.KR)(""),l=(0,s.KR)(""),n=(0,o.rd)(),h=async()=>{try{const a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:e.value,password:l.value})});if(a.ok){const e=await a.text();alert(e),n.push("/")}else alert("로그인 실패: 아이디 또는 비밀번호를 확인하세요.")}catch(a){console.error("Error during login:",a),alert("로그인 중 오류가 발생했습니다.")}};return(a,o)=>{const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("div",u,[c,(0,r.Lk)("form",{onSubmit:(0,t.D$)(h,["prevent"])},[(0,r.Lk)("div",d,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),placeholder:"아이디",required:""},null,512),[[t.Jo,e.value]])]),(0,r.Lk)("div",v,[(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=a=>l.value=a),placeholder:"비밀번호",required:""},null,512),[[t.Jo,l.value]])]),p],32),f,m]),(0,r.Lk)("div",k,[(0,r.Lk)("p",null,[(0,r.eW)("계정이 없으신가요? "),(0,r.bF)(s,{to:"/sign"},{default:(0,r.k6)((()=>[(0,r.eW)("가입하기")])),_:1})])])])}}},g=l(1241);const L=(0,g.A)(h,[["__scopeId","data-v-d427029a"]]);var b=L;const w=a=>((0,r.Qi)("data-v-5f7ac3f5"),a=a(),(0,r.jt)(),a),y={class:"sidebar bg-white"},_={class:"nav flex-column"},x=w((()=>(0,r.Lk)("div",{class:"logo"},"Instagram",-1))),U={class:"nav-item"},P=w((()=>(0,r.Lk)("i",{class:"fas fa-home"},null,-1))),C=(0,r.Fv)('<li class="nav-item" data-v-5f7ac3f5><a class="nav-link" href="#" data-v-5f7ac3f5><i class="fas fa-search" data-v-5f7ac3f5></i>검색</a></li><li class="nav-item" data-v-5f7ac3f5><a class="nav-link" href="#" data-v-5f7ac3f5><i class="fas fa-paper-plane" data-v-5f7ac3f5></i>메시지</a></li>',2),E={class:"nav-item"},R=w((()=>(0,r.Lk)("i",{class:"fas fa-user"},null,-1)));var K={__name:"SideBar",setup(a){return(a,e)=>{const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",y,[(0,r.Lk)("ul",_,[x,(0,r.Lk)("li",U,[(0,r.bF)(l,{class:"nav-link",to:"/"},{default:(0,r.k6)((()=>[P,(0,r.eW)("홈")])),_:1})]),C,(0,r.Lk)("li",E,[(0,r.bF)(l,{class:"nav-link",to:"/profile"},{default:(0,r.k6)((()=>[R,(0,r.eW)("프로필")])),_:1})])])])}}};const F=(0,g.A)(K,[["__scopeId","data-v-5f7ac3f5"]]);var j=F,X=l(4232),O=l(4373);const I=a=>((0,r.Qi)("data-v-5b619e0e"),a=a(),(0,r.jt)(),a),S={class:"main-feed-wrapper"},A={class:"main-feed"},V={class:"post-header"},Q=["src"],J=I((()=>(0,r.Lk)("div",{class:"post-actions"},[(0,r.Lk)("i",{class:"far fa-heart",style:{"font-size":"24px"}}),(0,r.Lk)("i",{class:"far fa-comment",style:{"font-size":"24px"}}),(0,r.Lk)("i",{class:"far fa-paper-plane",style:{"font-size":"24px"}})],-1))),T={class:"post-like"},q={class:"post-content"},M={class:"post-hashtag"};var D={__name:"MainFeed",setup(a){const e=(0,s.KR)([]),l=async()=>{try{const a=await O.A.get("/api/post");e.value=a.data,console.log(e.value)}catch(a){console.error("Error fetching posts:",a)}};return(0,r.sV)((()=>{l()})),(a,l)=>((0,r.uX)(),(0,r.CE)("div",S,[(0,r.Lk)("div",A,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.value,(a=>((0,r.uX)(),(0,r.CE)("div",{class:"post",key:a.id},[(0,r.Lk)("div",V,[(0,r.Lk)("h5",null,(0,X.v_)(a.userId),1),(0,r.Lk)("p",null,(0,X.v_)(a.createdAt),1)]),(0,r.Lk)("p",null,(0,X.v_)(a.location),1),(0,r.Lk)("img",{src:a.imgUrl,alt:"Post Image",class:"post-image"},null,8,Q),J,(0,r.Lk)("div",T,[(0,r.Lk)("p",null,"좋아요 "+(0,X.v_)(a.likesCount)+"개",1)]),(0,r.Lk)("div",q,[(0,r.Lk)("p",null,(0,X.v_)(a.content),1)]),(0,r.Lk)("div",M,[(0,r.Lk)("p",null,(0,X.v_)(a.hashtag),1)])])))),128))])]))}};const W=(0,g.A)(D,[["__scopeId","data-v-5b619e0e"]]);var z=W;const G=a=>((0,r.Qi)("data-v-0cd4dfbb"),a=a(),(0,r.jt)(),a),$={class:"right-sidebar"},B=(0,r.Fv)('<div class="suggestions bg-white p-3" data-v-0cd4dfbb><h6 data-v-0cd4dfbb>회원님들의 친구</h6><ul class="list-unstyled" data-v-0cd4dfbb><li data-v-0cd4dfbb><a href="#" data-v-0cd4dfbb>User 1</a></li><li data-v-0cd4dfbb><a href="#" data-v-0cd4dfbb>User 2</a></li><li data-v-0cd4dfbb><a href="#" data-v-0cd4dfbb>User 3</a></li><li data-v-0cd4dfbb><a href="#" data-v-0cd4dfbb>User 4</a></li></ul></div>',1),H={class:"profile bg-white p-3 mt-4"},N=G((()=>(0,r.Lk)("p",null,"Username",-1)));var Y={__name:"RightSideBar",setup(a){const e=(0,o.rd)(),l=(0,s.KR)(""),t=(0,s.KR)(!1),n=async()=>{const a=await fetch("/api/current-user");if(a.ok){const e=await a.json();l.value=e.id,t.value=!0}else l.value="Guest",t.value=!1},i=async()=>{if(t.value)try{const a=await fetch("/api/logout",{method:"POST"});a.ok&&(t.value=!1,l.value="Guest",alert("로그아웃 되었습니다."),e.push("/login"))}catch(a){console.error("Failed to logout:",a)}else e.push("/login")};return(0,r.sV)((()=>{n()})),(a,e)=>((0,r.uX)(),(0,r.CE)("div",$,[B,(0,r.Lk)("div",H,[(0,r.Lk)("h6",null,(0,X.v_)(l.value),1),N,(0,r.Lk)("button",{onClick:i,class:"btn btn-primary mt-3"},(0,X.v_)(t.value?"로그아웃":"로그인"),1)])]))}};const Z=(0,g.A)(Y,[["__scopeId","data-v-0cd4dfbb"]]);var aa=Z;const ea={id:"app",class:"d-flex"},la={class:"content-container"};var ta={__name:"MainPage",setup(a){return(a,e)=>((0,r.uX)(),(0,r.CE)("div",ea,[(0,r.bF)(j),(0,r.Lk)("div",la,[(0,r.bF)(z),(0,r.bF)(aa)])]))}};const oa=(0,g.A)(ta,[["__scopeId","data-v-574e10ec"]]);var ra=oa;const sa=a=>((0,r.Qi)("data-v-9e153634"),a=a(),(0,r.jt)(),a),na={class:"signup-form"},ia=sa((()=>(0,r.Lk)("h2",null,"회원가입",-1))),ua={class:"form-group"},ca=sa((()=>(0,r.Lk)("label",{for:"id"},"아이디",-1))),da={key:0,class:"error"},va={class:"form-group"},pa=sa((()=>(0,r.Lk)("label",{for:"password"},"비밀번호",-1))),fa={key:0,class:"error"},ma={class:"form-group"},ka=sa((()=>(0,r.Lk)("label",{for:"confirmPassword"},"비밀번호 확인",-1))),ha={key:0,class:"error"},ga={class:"form-group"},La=sa((()=>(0,r.Lk)("label",{for:"email"},"이메일",-1))),ba={key:0,class:"error"},wa={class:"form-group"},ya=sa((()=>(0,r.Lk)("label",{for:"name"},"성명",-1))),_a={class:"form-group"},xa=sa((()=>(0,r.Lk)("label",{for:"profilePicture"},"프로필 사진 URL (선택)",-1))),Ua=sa((()=>(0,r.Lk)("button",{type:"submit"},"회원가입",-1)));var Pa={__name:"SignPage",setup(a){const e=(0,o.rd)(),l=(0,s.KR)({id:"",email:"",password:"",confirmPassword:"",name:"",profilePicture:""}),n=(0,s.KR)({}),i=()=>(n.value={},l.value.id||(n.value.id="아이디를 입력해주세요."),l.value.email||(n.value.email="이메일을 입력해주세요."),l.value.password||(n.value.password="비밀번호를 입력해주세요."),l.value.password!==l.value.confirmPassword&&(n.value.confirmPassword="비밀번호가 일치하지 않습니다."),0===Object.keys(n.value).length),u=async()=>{if(i())try{const a=await O.A.post("/api/signup",l.value);console.log(a.data),alert("회원가입이 완료되었습니다."),e.push("/login")}catch(a){a.response&&a.response.data?(console.error("Error:",a.response.data),alert("회원가입에 실패했습니다.")):(console.error("Unexpected Error:",a),alert("알 수 없는 오류가 발생했습니다."))}};return(a,e)=>((0,r.uX)(),(0,r.CE)("div",na,[ia,(0,r.Lk)("form",{onSubmit:(0,t.D$)(u,["prevent"])},[(0,r.Lk)("div",ua,[ca,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.id=a),type:"text",id:"id",required:""},null,512),[[t.Jo,l.value.id]]),n.value.id?((0,r.uX)(),(0,r.CE)("span",da,(0,X.v_)(n.value.id),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",va,[pa,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.password=a),type:"password",id:"password",required:""},null,512),[[t.Jo,l.value.password]]),n.value.password?((0,r.uX)(),(0,r.CE)("span",fa,(0,X.v_)(n.value.password),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ma,[ka,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.confirmPassword=a),type:"password",id:"confirmPassword",required:""},null,512),[[t.Jo,l.value.confirmPassword]]),n.value.confirmPassword?((0,r.uX)(),(0,r.CE)("span",ha,(0,X.v_)(n.value.confirmPassword),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ga,[La,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.email=a),type:"email",id:"email",required:""},null,512),[[t.Jo,l.value.email]]),n.value.email?((0,r.uX)(),(0,r.CE)("span",ba,(0,X.v_)(n.value.email),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",wa,[ya,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.name=a),type:"text",id:"name"},null,512),[[t.Jo,l.value.name]])]),(0,r.Lk)("div",_a,[xa,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.profilePicture=a),type:"text",id:"profilePicture"},null,512),[[t.Jo,l.value.profilePicture]])]),Ua],32)]))}};const Ca=(0,g.A)(Pa,[["__scopeId","data-v-9e153634"]]);var Ea=Ca;const Ra=a=>((0,r.Qi)("data-v-1ce3888e"),a=a(),(0,r.jt)(),a),Ka={class:"profile-page"},Fa={class:"profile-header"},ja={class:"profile-picture"},Xa=["src"],Oa={class:"profile-info"},Ia={class:"profile-username-edit"},Sa=Ra((()=>(0,r.Lk)("button",{class:"btn btn-primary"},"프로필 편집",-1))),Aa={class:"profile-stats"},Va=Ra((()=>(0,r.Lk)("hr",null,null,-1))),Qa=Ra((()=>(0,r.Lk)("br",null,null,-1))),Ja={class:"profile-content"},Ta={class:"posts-grid"},qa=["src"];var Ma={__name:"ProfilePage",setup(a){const e=(0,o.rd)(),l=(0,s.KR)(""),t=(0,s.KR)(""),n=(0,s.KR)("https://via.placeholder.com/800x800"),i=(0,s.KR)(120),u=(0,s.KR)(150),c=(0,s.KR)([]),d=async()=>{const a=await fetch("/api/current-user");if(a.ok){const e=await a.json();console.log(e),l.value=e.id,t.value=e.name}else l.value="Guest"},v=()=>{e.push("/create")};return(0,r.sV)((()=>{c.value=[{id:1,imageUrl:"https://via.placeholder.com/800x800"},{id:2,imageUrl:"https://via.placeholder.com/800x800"},{id:3,imageUrl:"https://via.placeholder.com/800x800"},{id:4,imageUrl:"https://via.placeholder.com/800x800"},{id:5,imageUrl:"https://via.placeholder.com/800x800"},{id:6,imageUrl:"https://via.placeholder.com/800x800"},{id:7,imageUrl:"https://via.placeholder.com/800x800"},{id:8,imageUrl:"https://via.placeholder.com/800x800"},{id:9,imageUrl:"https://via.placeholder.com/800x800"},{id:10,imageUrl:"https://via.placeholder.com/800x800"},{id:11,imageUrl:"https://via.placeholder.com/800x800"},{id:12,imageUrl:"https://via.placeholder.com/800x800"}],d()})),(a,e)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(j),(0,r.Lk)("div",Ka,[(0,r.Lk)("div",Fa,[(0,r.Lk)("div",ja,[(0,r.Lk)("img",{src:n.value,alt:"Profile Picture"},null,8,Xa)]),(0,r.Lk)("div",Oa,[(0,r.Lk)("div",Ia,[(0,r.Lk)("h2",null,(0,X.v_)(l.value),1),Sa]),(0,r.Lk)("div",Aa,[(0,r.Lk)("span",null,[(0,r.Lk)("strong",null,"게시물 "+(0,X.v_)(c.value.length),1)]),(0,r.Lk)("span",null,[(0,r.Lk)("strong",null,"팔로워 "+(0,X.v_)(i.value),1)]),(0,r.Lk)("span",null,[(0,r.Lk)("strong",null,"팔로우 "+(0,X.v_)(u.value),1)])]),(0,r.Lk)("h6",null,(0,X.v_)(t.value),1)])]),Va,(0,r.Lk)("button",{onClick:v,class:"btn btn-primary"},"게시물 추가"),Qa,(0,r.Lk)("div",Ja,[(0,r.Lk)("div",Ta,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.value,(a=>((0,r.uX)(),(0,r.CE)("div",{key:a.id,class:"post-item"},[(0,r.Lk)("img",{src:a.imageUrl,alt:"Post Image"},null,8,qa)])))),128))])])])],64))}};const Da=(0,g.A)(Ma,[["__scopeId","data-v-1ce3888e"]]);var Wa=Da;const za=a=>((0,r.Qi)("data-v-d04da868"),a=a(),(0,r.jt)(),a),Ga={class:"add-post-page"},$a=za((()=>(0,r.Lk)("h2",null,"새 게시물",-1))),Ba={class:"form-group"},Ha=za((()=>(0,r.Lk)("label",{for:"imageUpload"},"사진 업로드",-1))),Na={key:0,class:"image-preview"},Ya=["src"],Za={class:"form-group"},ae=za((()=>(0,r.Lk)("label",{for:"location"},"위치",-1))),ee={class:"form-group"},le=za((()=>(0,r.Lk)("label",{for:"content"},"문구",-1))),te={class:"form-group"},oe=za((()=>(0,r.Lk)("label",{for:"hashtag"},"해시태그",-1))),re=za((()=>(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"게시물 올리기",-1)));var se={__name:"CreatePost",setup(a){const e=(0,o.rd)(),l=(0,s.KR)(null),n=(0,s.KR)(""),i=(0,s.KR)(""),u=(0,s.KR)(""),c=(0,s.KR)(null),d=a=>{const e=a.target.files[0];if(e){c.value=e;const a=new FileReader;a.onload=a=>{l.value=a.target.result},a.readAsDataURL(e)}},v=async()=>{if(!c.value)return void alert("사진을 업로드해주세요!");const a=new FormData;a.append("imageFile",c.value),a.append("content",n.value),a.append("location",i.value),a.append("hashtag",u.value);try{const t=await fetch("/api/create",{method:"POST",body:a});if(t.ok)alert("게시물이 성공적으로 업로드되었습니다!"),l.value=null,n.value="",i.value="",u.value="",c.value=null,e.push("/");else{const a=await t.text();alert("게시물 업로드 중 오류 발생: "+a)}}catch(t){console.error("게시물 업로드 중 오류 발생:",t),alert("게시물 업로드 중 오류 발생: "+t.message)}};return(a,e)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(j),(0,r.Lk)("div",Ga,[$a,(0,r.Lk)("form",{onSubmit:(0,t.D$)(v,["prevent"])},[(0,r.Lk)("div",Ba,[Ha,(0,r.Lk)("input",{type:"file",id:"imageUpload",onChange:d,accept:"image/*"},null,32),l.value?((0,r.uX)(),(0,r.CE)("div",Na,[(0,r.Lk)("img",{src:l.value,alt:"Preview Image"},null,8,Ya)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Za,[ae,(0,r.bo)((0,r.Lk)("textarea",{id:"location","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),rows:"1",placeholder:"위치를 입력하세요"},null,512),[[t.Jo,i.value]])]),(0,r.Lk)("div",ee,[le,(0,r.bo)((0,r.Lk)("textarea",{id:"content","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),rows:"3",placeholder:"문구를 입력하세요"},null,512),[[t.Jo,n.value]])]),(0,r.Lk)("div",te,[oe,(0,r.bo)((0,r.Lk)("textarea",{id:"hashtag","onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a),rows:"2",placeholder:"해시태그를 입력하세요"},null,512),[[t.Jo,u.value]])]),re],32)])],64))}};const ne=(0,g.A)(se,[["__scopeId","data-v-d04da868"]]);var ie=ne;const ue=[{path:"/login",name:"Login",component:b},{path:"/",name:"Main",component:ra},{path:"/sign",name:"sign",component:Ea},{path:"/profile",name:"profile",component:Wa},{path:"/create",name:"create",component:ie}],ce=(0,o.aE)({history:(0,o.LA)("/"),routes:ue});var de=ce;function ve(a,e){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(l)}const pe={},fe=(0,g.A)(pe,[["render",ve]]);var me=fe;(0,t.Ef)(me).use(de).mount("#app")}},e={};function l(t){var o=e[t];if(void 0!==o)return o.exports;var r=e[t]={exports:{}};return a[t].call(r.exports,r,r.exports,l),r.exports}l.m=a,function(){var a=[];l.O=function(e,t,o,r){if(!t){var s=1/0;for(c=0;c<a.length;c++){t=a[c][0],o=a[c][1],r=a[c][2];for(var n=!0,i=0;i<t.length;i++)(!1&r||s>=r)&&Object.keys(l.O).every((function(a){return l.O[a](t[i])}))?t.splice(i--,1):(n=!1,r<s&&(s=r));if(n){a.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=a.length;c>0&&a[c-1][2]>r;c--)a[c]=a[c-1];a[c]=[t,o,r]}}(),function(){l.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return l.d(e,{a:e}),e}}(),function(){l.d=function(a,e){for(var t in e)l.o(e,t)&&!l.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){l.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){l.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};l.O.j=function(e){return 0===a[e]};var e=function(e,t){var o,r,s=t[0],n=t[1],i=t[2],u=0;if(s.some((function(e){return 0!==a[e]}))){for(o in n)l.o(n,o)&&(l.m[o]=n[o]);if(i)var c=i(l)}for(e&&e(t);u<s.length;u++)r=s[u],l.o(a,r)&&a[r]&&a[r][0](),a[r]=0;return l.O(c)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(2876)}));t=l.O(t)})();
//# sourceMappingURL=app.b71b34cb.js.map